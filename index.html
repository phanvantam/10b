<html lang="vi">
     <head>
          <!-- Required meta tags -->
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
          <style>
               label {
                    cursor: pointer;
               }
               ul {
                    list-style: decimal-leading-zero;
               }
               table.table {
                    width: 900px;
               }
          </style>
          <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
     </head>
     <body>
          <div class="table-responsive">
               <table class="table table-striped table-bordered">
                    <tr>
                         <th class="text-danger">Bàn GV</th>
                         <th>Dãy 1</th>
                         <th>Dãy 2</th>
                         <th>Dãy 3</th>
                    </tr>
                    <tr>
                         <th>Hàng 1</th>
                         <td>
                              <div class="mb-3">
                                   <label class="text-danger"><input type="checkbox" /> Phan Văn Tâm</label>
                              </div>
                         </td>
                         <td>
                              <div class="mb-3">
                                   <label><input type="checkbox" /> Nguyên Tài Ninh</label>
                              </div>
                              <div class="mb-3">
                                   <label><input type="checkbox" /> Nguyễn Duy Mạnh</label>
                              </div>
                              <div class="mb-3">
                                   <label><input type="checkbox" /> Hoàng Quốc Huy</label>
                              </div>
                         </td>
                         <td></td>
                    </tr>
                    <tr>
                         <th>Hàng 2</th>
                         <td>
                              <div class="mb-3">
                                   <label><input type="checkbox" /> Đặng Văn Hiếu</label>
                              </div>
                         </td>
                         <td>
                              <div class="mb-3">
                                   <label><input type="checkbox" /> Lê Trung Nghĩa</label>
                              </div>
                              <div class="mb-3">
                                   <label><input type="checkbox" /> Nguyễn Thị Yến</label>
                              </div>
                              <div class="mb-3">
                                   <label><input type="checkbox" /> Trương Duy Khánh</label>
                              </div>
                         </td>
                         <td>
                              <div class="mb-3">
                                   <label><input type="checkbox" /> Lương Huyền Nhung</label>
                              </div>
                         </td>
                    </tr>
                    <tr>
                         <th>Hàng 3</th>
                         <td></td>
                         <td>
                              <div class="mb-3">
                                   <label><input type="checkbox" /> Trần Nguyễn</label>
                              </div>
                         </td>
                         <td>
                              <div class="mb-3">
                                   <label><input type="checkbox" /> Lê Thanh Bình</label>
                              </div>
                              <div class="mb-3">
                                   <label><input type="checkbox" /> Nguyễn Tích Thụy An</label>
                              </div>
                         </td>
                    </tr>
                    <tr>
                         <th>Hàng 4</th>
                         <td></td>
                         <td></td>
                         <td>
                              <div class="mb-3">
                                   <label><input type="checkbox" /> Phạm Huy Tuấn</label>
                              </div>
                         </td>
                    </tr>
                    <tr>
                         <th>Hàng 5</th>
                         <td></td>
                         <td>
                              <div class="mb-3">
                                   <label><input type="checkbox" /> Nguyễn Văn Tấn</label>
                              </div>
                              <div class="mb-3">
                                   <label><input type="checkbox" /> Nguyễn Thị Minh Châu</label>
                              </div>
                              <div class="mb-3">
                                   <label><input type="checkbox" /> Nguyễn Ngọc Bảo Trâm</label>
                              </div>
                         </td>
                         <td>
                              <div class="mb-3">
                                   <label><input type="checkbox" /> Phạm Mạnh Quân</label>
                              </div>
                         </td>
                    </tr>
               </table>
          </div>
          <div class="table-responsive">
               <table class="table table-striped table-bordered mt-3">
                    <tr>
                         <th class="text-danger">Tổng số (<span class="student_total"></span>)</th>
                         <th>No seat (<span class="student_no_seat"></span>)</th>
                         <th>Nghỉ học (<span class="student_off"></span>)</th>
                         <th>Đi học (<span class="student_on"></span>)</th>
                    </tr>
                    <tr>
                         <td class="student_total_list">
                              <ul></ul>
                         </td>
                         <td class="student_no_seat_list"></td>
                         <td class="student_off_list">
                              <ul></ul>
                         </td>
                         <td class="student_on_list">
                              <ul></ul>
                         </td>
                    </tr>
               </table>
          </div>
     </body>
     <script>
          const students = [
               "Nguyễn Tích Thụy An",
               "Hoàng Yên Thanh Bình",
               "Lê Thanh Bình",
               "Nguyễn Thị Minh Châu",
               "Nguyen Dinh Dung",
               "Đặng Văn Hiếu",
               "Hoàng Quốc Huy",
               "Trương Duy Khánh",
               "Nguyễn Duy Mạnh",
               "Lê Trung Nghĩa",
               "Nguyễn Hữu Nghĩa",
               "Trần Nguyễn",
               "Lương Huyền Nhung",
               "Nguyên Tài Ninh",
               "Trần Hà Phương",
               "Phạm Mạnh Quân",
               "Đỗ Thế Quyền",
               "Nguyễn Hoàng Sơn",
               "Phan Văn Tâm",
               "Nguyễn Văn Tấn",
               "Nguyễn Mạc Phu Tin",
               "Nguyễn Ngọc Bảo Trâm",
               "Nguyễn Văn Tuấn",
               "Phạm Huy Tuấn",
               "Vũ Đình Vịnh",
               "Nguyễn Thị Yến",
               "Vũ Thị Duyên",
               "Nguyễn Đức Thịnh"
          ];

          let student_no_seat = [];
          let student_seat = [];
          $("table label").each((i, item)=> {
               let student_name = $(item).text().trim();
               student_seat.push(student_name);
          });
          
          $.each(students, (i, v)=> {
               $('.student_total_list ul').append(`<li>${v}</li>`);
               if (!student_seat.includes(v)) {
                    student_no_seat.push(v);
               }
          });

          $.each(student_no_seat, (i, v)=> {
               $('.student_no_seat_list').append(`<div class="mb-3">
                    <label><input type="checkbox" /> ${v}</label>
               </div>`);
          });

          $('.student_total').text(students.length);
          $('.student_no_seat').text(student_no_seat.length);

          $('body').on('change', 'input', function() {
               $('.student_off_list ul li').remove();
               $('.student_on_list ul li').remove();

               let student_on      = [];
               let student_off     = [];
               
               $('label input[type="checkbox"]:checked').each(function() {
                    let student_name = $(this).parent('label').text().trim();
                    student_on.push(student_name);
                    $('.student_on_list ul').append(`<li>${student_name}</li>`);
               });

               if (student_on.length > 0) {
                    $.each(students, (i, v)=> {
                         if (!student_on.includes(v)) {
                              $('.student_off_list ul').append(`<li>${v}</li>`);
                              student_off.push(v);
                         }
                    });
               }

               $('.student_on').text(student_on.length);
               $('.student_off').text(student_off.length);
          });

          

     </script>
</html>